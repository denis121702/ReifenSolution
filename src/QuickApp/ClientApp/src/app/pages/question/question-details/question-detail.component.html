
<mat-toolbar class="mat-elevation-z4" style='margin-top: 0px; background-color: #ececec;'>
  <h2>Edit question</h2>
  <span class="example-fill-remaining-space"></span>
  <div class='has-error' *ngIf='errorMessage'>{{errorMessage}}</div>
  <div class="button-row tool-button-spacer">
    <button mat-icon-button class="tool-button" *ngIf="!edit"(click)="editEntry();" matTooltip="Edit">
      <mat-icon >mode_edit</mat-icon>
    </button>
    <div class="tool-button-spacer"></div>
    <button mat-mini-fab class="tool-button" color="primary" [routerLink]="'/questions'" matTooltip="Back to list" matTooltipPosition="left">
      <mat-icon>arrow_back</mat-icon>
    </button>
  </div>
</mat-toolbar>

<mat-tab-group class="mat-elevation-z4">
  <mat-tab label="Overview">
      <mat-card>
        <mat-card-header>
          <mat-card-title><h2>Details</h2></mat-card-title>
        </mat-card-header>
        <mat-card-content >
          <mat-form-field>
            <input matInput placeholder="ID" [ngModel]="dataView._id" name="styleNo" [disabled]='true' >
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Create date" value="{{dataView.timestamp | DateFormatPipe }}" name="timestamp" length="50" [disabled]="true">
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Last changed date" value="{{dataView.lastChange | DateFormatPipe }}" name="lastChange" length="50" [disabled]="true">
          </mat-form-field>
          <mat-form-field>
            <mat-select [(value)]="dataView.isActive" placeholder="Active" [disabled]='!edit'>
              <!--mat-option> -- </mat-option-->
              <mat-option [value]="true">yes</mat-option>
              <mat-option [value]="false">no</mat-option>
            </mat-select>
          </mat-form-field>
          <!--mat-form-field>
            <mat-select [(value)]="dataView.rating" placeholder="Stimme" [disabled]='!edit'>
              <mat-option [value]="0">0</mat-option>
              <mat-option [value]="1">1</mat-option>
              <mat-option [value]="2">2</mat-option>รถ
              <mat-option [value]="3">3</mat-option>
              <mat-option [value]="4">4</mat-option>
              <mat-option [value]="5">5</mat-option>
              <mat-option [value]="6">6</mat-option>
              <mat-option [value]="7">7</mat-option>
              <mat-option [value]="8">8</mat-option>
              <mat-option [value]="9">9</mat-option>
              <mat-option [value]="10">10</mat-option>
            </mat-select>
          </mat-form-field-->
          <mat-form-field>
            <mat-select [(value)]="dataView.sort" placeholder="Sort" [disabled]='!edit'>
              <!--mat-option> -- </mat-option-->
              <mat-option [value]="0">0</mat-option>
              <mat-option [value]="1">1</mat-option>
              <mat-option [value]="2">2</mat-option>
              <mat-option [value]="3">3</mat-option>
              <mat-option [value]="4">4</mat-option>
              <mat-option [value]="5">5</mat-option>
              <mat-option [value]="6">6</mat-option>
              <mat-option [value]="7">7</mat-option>
              <mat-option [value]="8">8</mat-option>
              <mat-option [value]="9">9</mat-option>
              <mat-option [value]="10">10</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Title" [(ngModel)]="dataView.title" name="title" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <textarea matInput
                      placeholder="Description"
                      [(ngModel)]="dataView.description"
                      name="Description"
                      [disabled]='!edit'
                      matTextareaAutosize
                      matAutosizeMinRows="10"
                      matAutosizeMaxRows="15"></textarea>
          </mat-form-field>
        </mat-card-content>
        <mat-card-actions align="end">
          <button mat-raised-button  [disabled]="!edit" (click)="cancelEntry();" matTooltip="Cancel Edit">
            Cancel
          </button>
          <button mat-raised-button color="primary"
                  class="tool-button"
                  [disabled]="!edit || !(dataView.description.length > 2) || !(dataView.title.length > 2)"
                  (click)="saveEntry();"
                  matTooltip="Save">
            Save
          </button>
        </mat-card-actions>
      </mat-card>
  </mat-tab>
  <!--mat-tab label="Statistics">
      <mat-card>
        <mat-card-header>
          <mat-card-title><h2>Info</h2></mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <br />
          <mat-form-field>
            <input matInput placeholder="Anzahl Mails" [ngModel]="infoView.emailCount" disabled>
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Anzahl Feedback" [ngModel]="infoView.numberOfVoters" disabled>
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Durchschnittliche Bewertung" [ngModel]="infoView.averageRating" disabled>
          </mat-form-field>
          <div style="width: 70%; height: 50%; padding-top: 30px;">
              <canvas baseChart
                      [datasets]="barChartData"
                      [labels]="barChartLabels"
                      [options]="barChartOptions"
                      [legend]="barChartLegend"
                      [chartType]="barChartType"
                      (chartHover)="chartHovered($event)"
                      (chartClick)="chartClicked($event)"></canvas>
          </div>

        </mat-card-content>
      </mat-card>
  </mat-tab-->>
</mat-tab-group>
