
<mat-toolbar class="mat-elevation-z4" style='margin-top: 0px; background-color: #ececec;'>
  <h2>Settings</h2>
  <span class="example-fill-remaining-space"></span>
  <div class='has-error' *ngIf='errorMessage'>{{errorMessage}}</div>
  <div class="button-row tool-button-spacer">
    <button mat-icon-button class="tool-button" *ngIf="!edit"(click)="editEntry();" matTooltip="Edit">
      <mat-icon >mode_edit</mat-icon>
    </button>
  </div>
</mat-toolbar>

<mat-tab-group class="mat-elevation-z4">

  <mat-tab label="Mailing">
      <mat-card>
        <mat-card-header>
          <mat-card-title><h2>Details</h2></mat-card-title>
        </mat-card-header>
        <mat-card-content >
          <mat-form-field>
            <input matInput placeholder="ID" [ngModel]="dataView._id" name="id" [disabled]='true' >
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="smtp-Mailserver"  [(ngModel)]="dataView.email.host" name="host" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Sender address Mailing"  [(ngModel)]="dataView.email.from" name="from" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Port"  [(ngModel)]="dataView.email.port" name="port" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="smtp-Mailserver Username"  [(ngModel)]="dataView.email.auth.user" name="user" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="smtp-Mailserver Password"  [(ngModel)]="dataView.email.auth.pass" name="pass" type="password" [disabled]='!edit'>
          </mat-form-field>
          <!--mat-form-field class="example-full-width">
            <input matInput placeholder="Landingpage Unsubscribe"  [(ngModel)]="dataView.email.unsubscribe" name="unsubscribe" [disabled]='!edit' >
          </mat-form-field-->
        </mat-card-content>
        <mat-card-actions align="end">
          <button mat-raised-button  [disabled]="!edit" (click)="cancelEntry();" matTooltip="Cancel Edit">
            Cancel
          </button>
          <button mat-raised-button color="primary"
                  class="tool-button"
                  [disabled]="!edit"
                  (click)="saveEntry();"
                  matTooltip="Save">
            Save
          </button>
        </mat-card-actions>
      </mat-card>
  </mat-tab>

  <mat-tab label="Cloud">
      <mat-card>
        <mat-card-header>
          <mat-card-title><h2>Details</h2></mat-card-title>
        </mat-card-header>
        <mat-card-content >
          <mat-form-field>
            <input matInput placeholder="ID" [ngModel]="dataView._id" name="id" [disabled]='true' >
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="SearchFolderName"  [(ngModel)]="dataView.owncloud.searchFolder" name="searchFolder" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="SuccessFolderName"  [(ngModel)]="dataView.owncloud.successFolderName" name="successFolderName" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="FileName"  [(ngModel)]="dataView.owncloud.fileName" name="fileName" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="ExportFolderName"  [(ngModel)]="dataView.owncloud.exportFolderName" name="exportFolderName" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="URL" [(ngModel)]="dataView.owncloud.url" name="url" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Username"  [(ngModel)]="dataView.owncloud.username" name="username" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Password"  [(ngModel)]="dataView.owncloud.password" name="password" type="password" [disabled]='!edit'>
          </mat-form-field>
        </mat-card-content>
        <mat-card-actions align="end">
          <button mat-raised-button  [disabled]="!edit" (click)="cancelEntry();" matTooltip="Cancel Edit">
            Cancel
          </button>
          <button mat-raised-button color="primary"
                  class="tool-button"
                  [disabled]="!edit"
                  (click)="saveEntry();"
                  matTooltip="Save">
            Save
          </button>
        </mat-card-actions>
      </mat-card>
    </mat-tab>

    <mat-tab label="Landingpage">
      <mat-card>
        <mat-card-header>
          <mat-card-title><h2>Details</h2></mat-card-title>
        </mat-card-header>
        <mat-card-content >
          <mat-form-field>
            <input matInput placeholder="ID" [ngModel]="dataView._id" name="id" [disabled]='true' >
          </mat-form-field>
          <mat-form-field>
            <mat-select placeholder="Token expiration (days)" [(ngModel)]="dataView.email.tokenExpires" name="tokenExpires" [disabled]='!edit'>
              <mat-option [value]="1">1</mat-option>
              <mat-option [value]="2">2</mat-option>
              <mat-option [value]="3">3</mat-option>
              <mat-option [value]="4">4</mat-option>
              <mat-option [value]="5">5</mat-option>
              <mat-option [value]="10">10</mat-option>
              <mat-option [value]="15">15</mat-option>
              <mat-option [value]="20">20</mat-option>
              <mat-option [value]="25">25</mat-option>
              <mat-option [value]="30">30</mat-option>
              <mat-option [value]="35">35</mat-option>
              <mat-option [value]="40">40</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Landingpage Voting"  [(ngModel)]="dataView.email.hyperlink" name="hyperlink" [disabled]='!edit' >
          </mat-form-field>
          <!--mat-form-field class="example-full-width">
            <input matInput placeholder="Landingpage Unsubscribe"  [(ngModel)]="dataView.email.unsubscribe" name="unsubscribe" [disabled]='!edit' >
          </mat-form-field-->
        </mat-card-content>
        <mat-card-actions align="end">
          <button mat-raised-button  [disabled]="!edit" (click)="cancelEntry();" matTooltip="Cancel Edit">
            Cancel
          </button>
          <button mat-raised-button color="primary"
                  class="tool-button"
                  [disabled]="!edit"
                  (click)="saveEntry();"
                  matTooltip="Save">
            Save
          </button>
        </mat-card-actions>
      </mat-card>
  </mat-tab>

  <!--mat-tab label="Unsubscribe">
    <mat-card>
      <mat-card-header>
        <mat-card-title><h2>Details</h2></mat-card-title>
      </mat-card-header>
      <mat-card-content >
        <mat-form-field>
          <input matInput placeholder="ID" [ngModel]="dataView._id" name="id" [disabled]='true' >
        </mat-form-field>
        <div *ngFor="let single of dataView.unsubscribes">
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Frage {{single.value}}"  [(ngModel)]="single.label" name="password" [disabled]='!edit' >
          </mat-form-field>
          <mat-form-field class="example-full-width">
                  <textarea matInput
                            placeholder="Beschreibung"
                            [(ngModel)]="single.description"
                            name="description"
                            [disabled]='!edit'
                            matTextareaAutosize
                            matAutosizeMinRows="3"
                            matAutosizeMaxRows="6"></textarea>
          </mat-form-field>
        </div>
      </mat-card-content>
      <mat-card-actions align="end">
        <button mat-raised-button  [disabled]="!edit" (click)="cancelEntry();" matTooltip="Cancel Edit">
          Cancel
        </button>
        <button mat-raised-button color="primary"
                class="tool-button"
                [disabled]="!edit"
                (click)="saveEntry();"
                matTooltip="Save">
          Save
        </button>
      </mat-card-actions>
    </mat-card>
  </mat-tab-->
</mat-tab-group>
